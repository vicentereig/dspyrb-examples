---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"pr_batch\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"PullRequest\"\n          },\n          \"pr\":
        {\n            \"type\": \"integer\"\n          },\n          \"title\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"ellipsis_summary\": {\n            \"type\":
        \"string\"\n          }\n        },\n        \"required\": [\n          \"_type\",\n          \"pr\",\n          \"title\",\n          \"description\",\n          \"ellipsis_summary\"\n        ],\n        \"description\":
        \"ChangelogGenerator::PullRequest struct\"\n      },\n      \"description\":
        \"Batch of pull requests to analyze together\"\n    }\n  },\n  \"required\":
        [\n    \"pr_batch\"\n  ]\n}\n```\nYour output schema fields are:\n```json\n{\n  \"$schema\":
        \"http://json-schema.org/draft-06/schema#\",\n  \"type\": \"object\",\n  \"properties\":
        {\n    \"theme_names\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\":
        \"string\"\n      },\n      \"description\": \"Names of themes discovered
        from the PR batch\"\n    },\n    \"theme_descriptions\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Descriptions for each theme\"\n    },\n    \"theme_pr_ids\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"array\",\n        \"items\":
        {\n          \"type\": \"integer\"\n        }\n      },\n      \"description\":
        \"PR IDs belonging to each theme\"\n    },\n    \"pr_ids_list\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"integer\"\n      },\n      \"description\":
        \"List of PR IDs in order\"\n    },\n    \"pr_theme_assignments\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Theme names for each PR ID (parallel to pr_ids_list)\"\n    },\n    \"reasoning\":
        {\n      \"type\": \"string\",\n      \"description\": \"Step by step reasoning
        process\"\n    }\n  },\n  \"required\": [\n    \"theme_names\",\n    \"theme_descriptions\",\n    \"theme_pr_ids\",\n    \"pr_ids_list\",\n    \"pr_theme_assignments\",\n    \"reasoning\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Analyze a batch of pull requests to identify themes and relationships.
        Think step by step."},{"role":"user","content":"## Input Values\n```json\n{\n  \"pr_batch\":
        [\n    {\n      \"pr\": 9999,\n      \"title\": \"Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test \",\n      \"description\": \"Invalid\\u0000data\",\n      \"ellipsis_summary\":
        \"\"\n    }\n  ]\n}\n```\n\nRespond with the corresponding output schema fields
        wrapped in a ```json ``` block,\nstarting with the heading `## Output values`."}],"temperature":0.0,"response_format":{"type":"json_schema","json_schema":{"name":"dspy_output_1753384390","strict":true,"schema":{"type":"object","properties":{"theme_names":{"type":"array","items":{"type":"string"},"description":"Names
        of themes discovered from the PR batch"},"theme_descriptions":{"type":"array","items":{"type":"string"},"description":"Descriptions
        for each theme"},"theme_pr_ids":{"type":"array","items":{"type":"array","items":{"type":"integer"}},"description":"PR
        IDs belonging to each theme"},"pr_ids_list":{"type":"array","items":{"type":"integer"},"description":"List
        of PR IDs in order"},"pr_theme_assignments":{"type":"array","items":{"type":"string"},"description":"Theme
        names for each PR ID (parallel to pr_ids_list)"},"reasoning":{"type":"string","description":"Step
        by step reasoning process"}},"required":["theme_names","theme_descriptions","theme_pr_ids","pr_ids_list","pr_theme_assignments","reasoning"],"additionalProperties":false}}}}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Ruby
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - x64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - Linux
      X-Stainless-Package-Version:
      - 0.13.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.3.8
      Content-Type:
      - application/json
      Authorization:
      - Bearer <REDACTED>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4849'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 24 Jul 2025 19:13:15 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-ftp1nrq85er9xnlu0la8snte
      Openai-Processing-Ms:
      - '4310'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '4314'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '199138'
      X-Ratelimit-Reset-Requests:
      - 8.64s
      X-Ratelimit-Reset-Tokens:
      - 258ms
      X-Request-Id:
      - req_ad9c2151bf0d30fc91a9835c90166198
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=vrsZy3UeDtHh4OwNM4py8D0dXUshfE8La4WLEaJ3BBo-1753384395-1.0.1.1-0fFE2b3QjWD8XPWDf4ze_GI39.NAucQ9pwA7x1AF00Uag52K7X2bqyn1oTJqUkagpCxDIayBe_DOKZoEq4Ncn6LOiuNGpXLWXFvU4dEVlDM;
        path=/; expires=Thu, 24-Jul-25 19:43:15 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=tyZq4ztBwq8M0hV5HvUmKg6gveYK3bj45YyrE0LtbNY-1753384395020-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9645bbb97e33566e-EWR
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-BwvfKDHu36qnChIEHRCgB8GmOOvww",
          "object": "chat.completion",
          "created": 1753384390,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "{\"theme_names\":[\"Data Validation\",\"Error Handling\"],\"theme_descriptions\":[\"Issues related to handling invalid data inputs.\",\"Strategies for managing and reporting errors in data processing.\"],\"theme_pr_ids\":[[9999]],\"pr_ids_list\":[9999],\"pr_theme_assignments\":[\"Data Validation\"],\"reasoning\":\"The pull request contains a title that is excessively long and a description indicating 'Invalid\\\\u0000data', suggesting a theme around data validation and error handling. The invalid character in the description points to potential issues with data integrity, which is a common theme in software development.\"}",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1024,
            "completion_tokens": 118,
            "total_tokens": 1142,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": null
        }
  recorded_at: Thu, 24 Jul 2025 19:13:15 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-latest","messages":[{"role":"user","content":"##
        Input Values\n```json\n{\n  \"pr_batch\": [\n    {\n      \"pr\": 9999,\n      \"title\":
        \"Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test \",\n      \"description\":
        \"Invalid\\u0000data\",\n      \"ellipsis_summary\": \"\"\n    }\n  ]\n}\n```\n\nRespond
        with the corresponding output schema fields wrapped in a ```json ``` block,\nstarting
        with the heading `## Output values`.\n\nIMPORTANT: Respond with ONLY valid
        JSON. No markdown formatting, no code blocks, no explanations. Start your
        response with ''{'' and end with ''}''."}],"max_tokens":4096,"temperature":0.0,"system":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"pr_batch\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"PullRequest\"\n          },\n          \"pr\":
        {\n            \"type\": \"integer\"\n          },\n          \"title\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"ellipsis_summary\": {\n            \"type\":
        \"string\"\n          }\n        },\n        \"required\": [\n          \"_type\",\n          \"pr\",\n          \"title\",\n          \"description\",\n          \"ellipsis_summary\"\n        ],\n        \"description\":
        \"ChangelogGenerator::PullRequest struct\"\n      },\n      \"description\":
        \"Batch of pull requests to analyze together\"\n    }\n  },\n  \"required\":
        [\n    \"pr_batch\"\n  ]\n}\n```\nYour output schema fields are:\n```json\n{\n  \"$schema\":
        \"http://json-schema.org/draft-06/schema#\",\n  \"type\": \"object\",\n  \"properties\":
        {\n    \"theme_names\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\":
        \"string\"\n      },\n      \"description\": \"Names of themes discovered
        from the PR batch\"\n    },\n    \"theme_descriptions\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Descriptions for each theme\"\n    },\n    \"theme_pr_ids\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"array\",\n        \"items\":
        {\n          \"type\": \"integer\"\n        }\n      },\n      \"description\":
        \"PR IDs belonging to each theme\"\n    },\n    \"pr_ids_list\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"integer\"\n      },\n      \"description\":
        \"List of PR IDs in order\"\n    },\n    \"pr_theme_assignments\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Theme names for each PR ID (parallel to pr_ids_list)\"\n    },\n    \"reasoning\":
        {\n      \"type\": \"string\",\n      \"description\": \"Step by step reasoning
        process\"\n    }\n  },\n  \"required\": [\n    \"theme_names\",\n    \"theme_descriptions\",\n    \"theme_pr_ids\",\n    \"pr_ids_list\",\n    \"pr_theme_assignments\",\n    \"reasoning\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Analyze a batch of pull requests to identify themes and relationships.
        Think step by step."}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Ruby
      Host:
      - api.anthropic.com
      X-Stainless-Arch:
      - x64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - Linux
      X-Stainless-Package-Version:
      - 1.1.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.3.8
      Content-Type:
      - application/json
      Anthropic-Version:
      - '2023-06-01'
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4055'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 24 Jul 2025 19:13:17 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '100000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '100000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-07-24T19:13:15Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '20000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '20000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-07-24T19:13:17Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '1000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-07-24T19:13:15Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '120000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '120000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-07-24T19:13:15Z'
      Request-Id:
      - req_011CRSNmPuxV4Bgs7JT763zU
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - '008b8384-4ae5-436d-a319-c5a07111a158'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 9645bbd59b2e7d00-EWR
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_019MhaoqHftTpDT3mt4D4uTX","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"##
        Output values\n```json\n{\n  \"theme_names\": [],\n  \"theme_descriptions\":
        [],\n  \"theme_pr_ids\": [],\n  \"pr_ids_list\": [9999],\n  \"pr_theme_assignments\":
        [\"Unclassified\"],\n  \"reasoning\": \"Unable to meaningfully analyze the
        pull request due to invalid or extremely long title and empty description.
        The PR could not be categorized into a specific theme.\"\n}\n```"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":1030,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":107,"service_tier":"standard"}}'
  recorded_at: Thu, 24 Jul 2025 19:13:17 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"pr_batch\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"PullRequest\"\n          },\n          \"pr\":
        {\n            \"type\": \"integer\"\n          },\n          \"title\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"ellipsis_summary\": {\n            \"type\":
        \"string\"\n          }\n        },\n        \"required\": [\n          \"_type\",\n          \"pr\",\n          \"title\",\n          \"description\",\n          \"ellipsis_summary\"\n        ],\n        \"description\":
        \"ChangelogGenerator::PullRequest struct\"\n      },\n      \"description\":
        \"Batch of pull requests to analyze together\"\n    }\n  },\n  \"required\":
        [\n    \"pr_batch\"\n  ]\n}\n```\nYour output schema fields are:\n```json\n{\n  \"$schema\":
        \"http://json-schema.org/draft-06/schema#\",\n  \"type\": \"object\",\n  \"properties\":
        {\n    \"theme_names\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\":
        \"string\"\n      },\n      \"description\": \"Names of themes discovered
        from the PR batch\"\n    },\n    \"theme_descriptions\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Descriptions for each theme\"\n    },\n    \"theme_pr_ids\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"array\",\n        \"items\":
        {\n          \"type\": \"integer\"\n        }\n      },\n      \"description\":
        \"PR IDs belonging to each theme\"\n    },\n    \"pr_ids_list\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"integer\"\n      },\n      \"description\":
        \"List of PR IDs in order\"\n    },\n    \"pr_theme_assignments\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Theme names for each PR ID (parallel to pr_ids_list)\"\n    },\n    \"reasoning\":
        {\n      \"type\": \"string\",\n      \"description\": \"Step by step reasoning
        process\"\n    }\n  },\n  \"required\": [\n    \"theme_names\",\n    \"theme_descriptions\",\n    \"theme_pr_ids\",\n    \"pr_ids_list\",\n    \"pr_theme_assignments\",\n    \"reasoning\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Analyze a batch of pull requests to identify themes and relationships.
        Think step by step."},{"role":"user","content":"## Input Values\n```json\n{\n  \"pr_batch\":
        [\n    {\n      \"pr\": 9999,\n      \"title\": \"Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test \",\n      \"description\": \"Invalid\\u0000data\",\n      \"ellipsis_summary\":
        \"\"\n    }\n  ]\n}\n```\n\nRespond with the corresponding output schema fields
        wrapped in a ```json ``` block,\nstarting with the heading `## Output values`."}],"temperature":0.0,"response_format":{"type":"json_schema","json_schema":{"name":"dspy_output_1753384474","strict":true,"schema":{"type":"object","properties":{"theme_names":{"type":"array","items":{"type":"string"},"description":"Names
        of themes discovered from the PR batch"},"theme_descriptions":{"type":"array","items":{"type":"string"},"description":"Descriptions
        for each theme"},"theme_pr_ids":{"type":"array","items":{"type":"array","items":{"type":"integer"}},"description":"PR
        IDs belonging to each theme"},"pr_ids_list":{"type":"array","items":{"type":"integer"},"description":"List
        of PR IDs in order"},"pr_theme_assignments":{"type":"array","items":{"type":"string"},"description":"Theme
        names for each PR ID (parallel to pr_ids_list)"},"reasoning":{"type":"string","description":"Step
        by step reasoning process"}},"required":["theme_names","theme_descriptions","theme_pr_ids","pr_ids_list","pr_theme_assignments","reasoning"],"additionalProperties":false}}}}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Ruby
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - x64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - Linux
      X-Stainless-Package-Version:
      - 0.13.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.3.8
      Content-Type:
      - application/json
      Authorization:
      - Bearer <REDACTED>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4849'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 24 Jul 2025 19:14:36 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-ftp1nrq85er9xnlu0la8snte
      Openai-Processing-Ms:
      - '1408'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '1410'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '199138'
      X-Ratelimit-Reset-Requests:
      - 8.64s
      X-Ratelimit-Reset-Tokens:
      - 258ms
      X-Request-Id:
      - af4768ba-9f47-45c5-a649-727dcc1d9678
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=dgToPYxsdJgV7Adw9gMMEk9zJyv5CoqVIikEX034EQ0-1753384476-1.0.1.1-4f_ZttU7a1hZkrVbcgNx0RC7tcd68Tpa4XMFJbnDkq4x7982xJqbWwZfyeOFQ3arCzxCotcTYgsIvG.hEGIcoWjRMaoi5lU9lqvUWnRe0A0;
        path=/; expires=Thu, 24-Jul-25 19:44:36 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=FfeaU0W1qFU6R1o4vhmTzEq0btKVdh6W1lyZu1c.7Yo-1753384476556-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9645bdc90d911f47-EWR
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-BwvghrRMj6MYU4CxhXwG92zx7e7Qh",
          "object": "chat.completion",
          "created": 1753384475,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "{\"theme_names\":[\"Data Validation Issues\"],\"theme_descriptions\":[\"This theme addresses problems related to invalid data inputs in the pull request.\"],\"theme_pr_ids\":[[9999]],\"pr_ids_list\":[9999],\"pr_theme_assignments\":[\"Data Validation Issues\"],\"reasoning\":\"The pull request contains a title that is excessively long and a description that includes invalid data (null character). This indicates a theme related to data validation issues. The PR ID 9999 is associated with this theme.\"}",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1024,
            "completion_tokens": 101,
            "total_tokens": 1125,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": null
        }
  recorded_at: Thu, 24 Jul 2025 19:14:36 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4o-mini","messages":[{"role":"system","content":"Your
        input schema fields are:\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-06/schema#\",\n  \"type\":
        \"object\",\n  \"properties\": {\n    \"pr_batch\": {\n      \"type\": \"array\",\n      \"items\":
        {\n        \"type\": \"object\",\n        \"properties\": {\n          \"_type\":
        {\n            \"type\": \"string\",\n            \"const\": \"PullRequest\"\n          },\n          \"pr\":
        {\n            \"type\": \"integer\"\n          },\n          \"title\": {\n            \"type\":
        \"string\"\n          },\n          \"description\": {\n            \"type\":
        \"string\"\n          },\n          \"ellipsis_summary\": {\n            \"type\":
        \"string\"\n          }\n        },\n        \"required\": [\n          \"_type\",\n          \"pr\",\n          \"title\",\n          \"description\",\n          \"ellipsis_summary\"\n        ],\n        \"description\":
        \"ChangelogGenerator::PullRequest struct\"\n      },\n      \"description\":
        \"Batch of pull requests to analyze together\"\n    }\n  },\n  \"required\":
        [\n    \"pr_batch\"\n  ]\n}\n```\nYour output schema fields are:\n```json\n{\n  \"$schema\":
        \"http://json-schema.org/draft-06/schema#\",\n  \"type\": \"object\",\n  \"properties\":
        {\n    \"theme_names\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\":
        \"string\"\n      },\n      \"description\": \"Names of themes discovered
        from the PR batch\"\n    },\n    \"theme_descriptions\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Descriptions for each theme\"\n    },\n    \"theme_pr_ids\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"array\",\n        \"items\":
        {\n          \"type\": \"integer\"\n        }\n      },\n      \"description\":
        \"PR IDs belonging to each theme\"\n    },\n    \"pr_ids_list\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"integer\"\n      },\n      \"description\":
        \"List of PR IDs in order\"\n    },\n    \"pr_theme_assignments\": {\n      \"type\":
        \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"description\":
        \"Theme names for each PR ID (parallel to pr_ids_list)\"\n    },\n    \"reasoning\":
        {\n      \"type\": \"string\",\n      \"description\": \"Step by step reasoning
        process\"\n    }\n  },\n  \"required\": [\n    \"theme_names\",\n    \"theme_descriptions\",\n    \"theme_pr_ids\",\n    \"pr_ids_list\",\n    \"pr_theme_assignments\",\n    \"reasoning\"\n  ]\n}\n```\n\nAll
        interactions will be structured in the following way, with the appropriate
        values filled in.\n## Input values\n```json\n{input_values}\n```\n## Output
        values\nRespond exclusively with the output schema fields in the json block
        below.\n```json\n{output_values}\n```\n\nIn adhering to this structure, your
        objective is: Analyze a batch of pull requests to identify themes and relationships.
        Think step by step."},{"role":"user","content":"## Input Values\n```json\n{\n  \"pr_batch\":
        [\n    {\n      \"pr\": 9999,\n      \"title\": \"Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test Test Test Test Test Test Test Test Test Test Test
        Test Test Test Test Test \",\n      \"description\": \"Invalid\\u0000data\",\n      \"ellipsis_summary\":
        \"\"\n    }\n  ]\n}\n```\n\nRespond with the corresponding output schema fields
        wrapped in a ```json ``` block,\nstarting with the heading `## Output values`."}],"temperature":0.0,"response_format":{"type":"json_schema","json_schema":{"name":"dspy_output_1753384635","strict":true,"schema":{"type":"object","properties":{"theme_names":{"type":"array","items":{"type":"string"},"description":"Names
        of themes discovered from the PR batch"},"theme_descriptions":{"type":"array","items":{"type":"string"},"description":"Descriptions
        for each theme"},"theme_pr_ids":{"type":"array","items":{"type":"array","items":{"type":"integer"}},"description":"PR
        IDs belonging to each theme"},"pr_ids_list":{"type":"array","items":{"type":"integer"},"description":"List
        of PR IDs in order"},"pr_theme_assignments":{"type":"array","items":{"type":"string"},"description":"Theme
        names for each PR ID (parallel to pr_ids_list)"},"reasoning":{"type":"string","description":"Step
        by step reasoning process"}},"required":["theme_names","theme_descriptions","theme_pr_ids","pr_ids_list","pr_theme_assignments","reasoning"],"additionalProperties":false}}}}'
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - application/json
      User-Agent:
      - Ruby
      Host:
      - api.openai.com
      X-Stainless-Arch:
      - x64
      X-Stainless-Lang:
      - ruby
      X-Stainless-Os:
      - Linux
      X-Stainless-Package-Version:
      - 0.13.1
      X-Stainless-Runtime:
      - ruby
      X-Stainless-Runtime-Version:
      - 3.3.8
      Content-Type:
      - application/json
      Authorization:
      - Bearer <REDACTED>
      X-Stainless-Retry-Count:
      - '0'
      X-Stainless-Timeout:
      - '600.0'
      Content-Length:
      - '4849'
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 24 Jul 2025 19:17:17 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-ftp1nrq85er9xnlu0la8snte
      Openai-Processing-Ms:
      - '2005'
      Openai-Project:
      - proj_n52OL5vlzVaXGnYDaGWmVX5F
      Openai-Version:
      - '2020-10-01'
      X-Envoy-Upstream-Service-Time:
      - '2008'
      X-Ratelimit-Limit-Requests:
      - '10000'
      X-Ratelimit-Limit-Tokens:
      - '200000'
      X-Ratelimit-Remaining-Requests:
      - '9999'
      X-Ratelimit-Remaining-Tokens:
      - '199138'
      X-Ratelimit-Reset-Requests:
      - 8.64s
      X-Ratelimit-Reset-Tokens:
      - 258ms
      X-Request-Id:
      - 8385d1d3-3be5-412e-9ee2-a2c3ec3b48ef
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=UVZN0FSYoppbNkwfM8Un7wj22olYCxZ8P_UGDpHz6mg-1753384637-1.0.1.1-3qSMheVmABV9QDQY4tRk4KBkTyZ.2aTOwGZncOs7LLSoQrUS9sadcbCggEvjnPaSgHSCLu5Gs0ykC8Qwi4nHvqNQrkAIZcxh0fr1N4_iBu8;
        path=/; expires=Thu, 24-Jul-25 19:47:17 GMT; domain=.api.openai.com; HttpOnly;
        Secure; SameSite=None
      - _cfuvid=pqZdGaezjGpJlTiN3VINVTZVqMlkw683.gnTtz.50PI-1753384637577-0.0.1.1-604800000;
        path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - 9645c1b3bd965612-EWR
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-BwvjHNTcNTNJQbwALXBf7cwTznirN",
          "object": "chat.completion",
          "created": 1753384635,
          "model": "gpt-4o-mini-2024-07-18",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "{\"theme_names\":[\"Data Validation Issues\"],\"theme_descriptions\":[\"This theme addresses problems related to invalid data inputs in the pull request.\"],\"theme_pr_ids\":[[9999]],\"pr_ids_list\":[9999],\"pr_theme_assignments\":[\"Data Validation Issues\"],\"reasoning\":\"The pull request contains a title that is excessively long and a description that includes invalid data (null character). This indicates a theme related to data validation issues. The PR ID 9999 is associated with this theme.\"}",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 1024,
            "completion_tokens": 101,
            "total_tokens": 1125,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": null
        }
  recorded_at: Thu, 24 Jul 2025 19:17:17 GMT
recorded_with: VCR 6.3.1
